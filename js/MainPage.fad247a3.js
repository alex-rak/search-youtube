(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MainPage"],{"05b1":function(t,e,s){},"0671":function(t,e,s){t.exports={label:"index_label_1MMS4",input:"index_input_1twND",select:"index_select_1Zh_V",slider:"index_slider_f6jUc",range:"index_range_2CUBT","select-item":"index_select-item_2G22U",title:"index_title_2T-Z7",buttons:"index_buttons_W0Qe_",button:"index_button_2Wm9b",success:"index_success_fayOD"}},1148:function(t,e,s){"use strict";var a=s("a691"),i=s("1d80");t.exports="".repeat||function(t){var e=String(i(this)),s="",r=a(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(s+=e);return s}},"12ab":function(t,e,s){"use strict";var a=s("0671"),i=s.n(a);e["default"]=i.a},"20f6":function(t,e,s){"use strict";var a=s("b0414"),i=s.n(a);i.a},"408a":function(t,e,s){var a=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"4b05":function(t,e,s){t.exports=s.p+"img/grid.1aeab569.svg"},"4d1b":function(t,e,s){"use strict";var a=s("c5f5"),i=s.n(a);i.a},"558d":function(t,e,s){"use strict";var a=s("7eff"),i=s.n(a);i.a},6767:function(t,e,s){"use strict";var a=s("dc5d"),i=s.n(a);i.a},7793:function(t,e,s){},"7eff":function(t,e,s){},"99ad":function(t,e,s){t.exports=s.p+"img/list.26fb9fab.svg"},a5bb:function(t,e,s){"use strict";var a=s("7793"),i=s.n(a);i.a},b0414:function(t,e,s){},b680:function(t,e,s){"use strict";var a=s("23e7"),i=s("a691"),r=s("408a"),n=s("1148"),c=s("d039"),l=1..toFixed,u=Math.floor,o=function(t,e,s){return 0===e?s:e%2===1?o(t,e-1,s*t):o(t*t,e/2,s)},d=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){l.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,s,a,c,l=r(this),f=i(t),h=[0,0,0,0,0,0],p="",b="0",v=function(t,e){var s=-1,a=e;while(++s<6)a+=t*h[s],h[s]=a%1e7,a=u(a/1e7)},_=function(t){var e=6,s=0;while(--e>=0)s+=h[e],h[e]=u(s/t),s=s%t*1e7},m=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var s=String(h[t]);e=""===e?s:e+n.call("0",7-s.length)+s}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(e=d(l*o(2,69,1))-69,s=e<0?l*o(2,-e,1):l/o(2,e,1),s*=4503599627370496,e=52-e,e>0){v(0,s),a=f;while(a>=7)v(1e7,0),a-=7;v(o(10,a,1),0),a=e-1;while(a>=23)_(1<<23),a-=23;_(1<<a),v(1,1),_(2),b=m()}else v(0,s),v(1<<-e,0),b=m()+n.call("0",f);return f>0?(c=b.length,b=p+(c<=f?"0."+n.call("0",f-c)+b:b.slice(0,c-f)+"."+b.slice(c-f))):b=p+b,b}})},c5f5:function(t,e,s){},dc5d:function(t,e,s){},f321:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a-modal",{attrs:{"after-close":t.close,centered:"","dialog-class":t.$s["modal"],footer:null,closable:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("span",{class:t.$s.title},[t._v(" "+t._s("save"===t.type?"Сохранить":"Изменить")+" запрос ")]),s("label",{class:t.$s.label},[t._v(" Запрос "),s("a-input",{class:t.$s.input,attrs:{disabled:"save"===t.type},model:{value:t.result.search,callback:function(e){t.$set(t.result,"search",e)},expression:"result.search"}})],1),s("label",{class:t.$s.label},[t._v(" *Название "),s("a-input",{class:t.$s.input,attrs:{placeholder:"Укажите название"},model:{value:t.result.name,callback:function(e){t.$set(t.result,"name",e)},expression:"result.name"}})],1),s("label",{class:t.$s.label},[t._v(" Сортировать по "),s("a-select",{class:t.$s.select,attrs:{placeholder:"Без сортировки"},on:{change:t.changeOrder}},t._l(t.orders,(function(e,a){return s("a-select-option",{key:a,class:t.$s["select-item"],attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1),s("label",{class:t.$s.label},[t._v(" Максимальное количество "),s("a-row",{class:t.$s.slider},[s("a-slider",{class:t.$s.range,attrs:{min:1,max:50},model:{value:t.result.maxResults,callback:function(e){t.$set(t.result,"maxResults",e)},expression:"result.maxResults"}}),s("a-input-number",{class:t.$s.input,attrs:{min:1,max:50},model:{value:t.result.maxResults,callback:function(e){t.$set(t.result,"maxResults",e)},expression:"result.maxResults"}})],1)],1),s("div",{class:t.$s.buttons},[s("a-button",{class:t.$s.button,on:{click:t.close}},[t._v(" "+t._s("save"===t.type?"Не сохранять":"Не изменять")+" ")]),s("a-button",{staticClass:"success",class:[t.$s.button,t.$s.success],attrs:{type:"primary"},on:{click:t.saveFavourites}},[t._v(" "+t._s("save"===t.type?"Сохранить":"Изменить")+" ")])],1)])},i=[],r=(s("b0c0"),s("5530")),n=s("2f62"),c={name:"FavouritesModal",props:{request:{type:Object,required:!0},type:{type:String,default:"save"}},data:function(){return{orders:["relevance","rating","title","data","viewCount"],visible:!0,result:{search:null,name:null,order:null,maxResults:12}}},created:function(){this.result=Object(r["a"])(Object(r["a"])({},this.result),this.request)},methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])("favourites",["SAVE_FAVOURITES","GET_FAVOURITES","UPDATE_FAVOURITES"])),{},{changeOrder:function(t){this.result.order=t},saveFavourites:function(){this.result.name&&(this.GET_FAVOURITES(),"save"===this.type?this.SAVE_FAVOURITES(Object(r["a"])(Object(r["a"])({},this.result),{},{id:Date.now()})):this.UPDATE_FAVOURITES(this.result),this.close(!0))},close:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("close",t)}})},l=c,u=s("12ab"),o=(s("20f6"),s("2877"));function d(t){this["$s"]=u["default"].locals||u["default"]}var f=Object(o["a"])(l,a,i,!1,d,null,null);e["a"]=f.exports},f94e:function(t,e,s){"use strict";var a=s("05b1"),i=s.n(a);i.a},ffbd:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("search"),t.query?s("results"):t._e()],1)},i=[],r=(s("ac1f"),s("841c"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search",class:{empty:!t.query.search}},[a("div",{staticClass:"search__title"},[t._v(" Поиск видео ")]),a("a-input-search",{staticClass:"search__input",attrs:{placeholder:"input search text",size:"large"},on:{search:t.onSearch},model:{value:t.searchField,callback:function(e){t.searchField=e},expression:"searchField"}},[t.query.search?a("a-popover",{attrs:{slot:"suffix",placement:"bottom",trigger:"click"},slot:"suffix",model:{value:t.popOverVisible,callback:function(e){t.popOverVisible=e},expression:"popOverVisible"}},[a("template",{slot:"title"},[t._v(" Поиск сохранен в разделе «Избранное» ")]),a("template",{slot:"content"},[a("router-link",{attrs:{to:"/favourites"}},[t._v(" Перейти в избранное ")])],1)],2):t._e(),t.query.search?a("a-icon",{staticStyle:{color:"#1390E5"},attrs:{slot:"suffix",type:"heart"},on:{click:t.openModal},slot:"suffix"}):t._e(),a("a-button",{staticClass:"search__button",attrs:{slot:"enterButton",type:"primary"},slot:"enterButton"},[t._v(" Поиск ")])],1),t.visible?a("favourites-modal",{attrs:{request:t.request},on:{close:t.closeModal}}):t._e(),t.query.search?a("div",{staticClass:"search__results"},[a("div",{staticClass:"text"},[a("span",{staticClass:"text__static"},[t._v(" Видео по запросу ")]),a("span",{staticClass:"text__request"},[t._v(" «"+t._s(t.query.search)+"» ")]),a("span",{staticClass:"text__counter"},[t._v(" "+t._s(t.counter?t.counter:"0 результатов")+" ")])]),a("div",{staticClass:"icons"},[a("img",{staticClass:"icon",class:{active:"list"===t.typeGrid},attrs:{src:s("99ad")},on:{click:function(e){return t.SET_TYPE_GRID("list")}}}),a("img",{staticClass:"icon",class:{active:"grid"===t.typeGrid},attrs:{src:s("4b05")},on:{click:function(e){return t.SET_TYPE_GRID("grid")}}})])]):t._e()],1)}),n=[],c=(s("96cf"),s("1da1")),l=s("5530"),u=s("f321"),o=s("2f62"),d={name:"Search",components:{FavouritesModal:u["a"]},data:function(){return{searchField:null,counter:null,visible:!1,popOverVisible:!1}},computed:Object(l["a"])(Object(l["a"])({},Object(o["d"])("search",["typeGrid"])),{},{query:function(){return this.$route.query},request:function(){return{search:this.searchField}}}),created:function(){this.query.search&&(this.searchField=this.query.search,this.setResults(this.query))},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(o["b"])("search",["SEARCH","SET_TYPE_GRID","ADD_FAVOURITES"])),Object(o["b"])("favourites",["SAVE_FAVOURITES"])),{},{onSearch:function(){this.searchField&&this.searchField!==this.query.search&&(this.$router.push({name:"MainPage",query:{search:this.searchField}}),this.setResults({search:this.searchField}))},setResults:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.SEARCH(t);case 2:a=s.sent,e.counter=a.data.pageInfo.totalResults;case 4:case"end":return s.stop()}}),s)})))()},openModal:function(){this.searchField&&(this.visible=!0)},closeModal:function(t){t&&(this.popOverVisible=!0),this.visible=!1}})},f=d,h=(s("4d1b"),s("f94e"),s("2877")),p=Object(h["a"])(f,r,n,!1,null,"4c2dcd08",null),b=p.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"results",class:{list:"list"===t.typeGrid}},t._l(t.results,(function(e){return s("item-result",{key:e.id.videoId,attrs:{item:e,type:t.typeGrid}})})),1)},_=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item",class:{list:"list"===t.type}},[s("a",{attrs:{href:"https://www.youtube.com/watch?v="+t.id,target:"_blank"}},[s("img",{staticClass:"item__image",attrs:{src:t.image}})]),s("div",{staticClass:"text"},[s("a",{staticClass:"text__title",attrs:{href:"https://www.youtube.com/watch?v="+t.id,target:"_blank"},domProps:{innerHTML:t._s(t.title)}}),s("div",{staticClass:"text__info"},[s("a",{staticClass:"text__info__channel",attrs:{href:"https://www.youtube.com/channel/"+t.channelId,target:"_blank"},domProps:{innerHTML:t._s(t.channelTitle)}}),s("div",{staticClass:"text__info__views"},[t._v(" "+t._s(t.views)+" ")])])])])},x=[],y=(s("fb6a"),s("b680"),{name:"ItemResult",props:{item:{type:Object,required:!0},type:{type:String,required:!0}},computed:{id:function(){return this.item.id.videoId},image:function(){return this.item.snippet.thumbnails.medium.url},title:function(){var t=this.item.snippet.title;return"grid"===this.type&&t.length>50?t.slice(0,50)+"...":t},channelTitle:function(){var t=this.item.snippet.channelTitle;return"grid"===this.type&&t.length>30?t.slice(0,30)+"...":t},channelId:function(){return this.item.snippet.channelId},views:function(){var t,e=+this.item.snippet.views;return e>1e9?(e/=1e9,t=" млрд. просмоторов"):e>1e6?(e/=1e6,t=" млн. просмоторов"):e>1e4&&(e/=1e3,t=" тыс. просмоторов"),e.toFixed(1)+t}}}),g=y,O=(s("558d"),Object(h["a"])(g,m,x,!1,null,"68fb9194",null)),w=O.exports,E={name:"Results",components:{ItemResult:w},data:function(){return{}},computed:Object(l["a"])({},Object(o["d"])("search",["results","typeGrid"]))},R=E,$=(s("6767"),Object(h["a"])(R,v,_,!1,null,"3ddc931b",null)),F=$.exports,S={name:"Main",components:{Search:b,Results:F},computed:{query:function(){return this.$route.query.search}}},j=S,C=(s("a5bb"),Object(h["a"])(j,a,i,!1,null,"2df09b70",null));e["default"]=C.exports}}]);
//# sourceMappingURL=MainPage.fad247a3.js.map